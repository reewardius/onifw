#!/usr/bin/python

import sys
import os

import api.installer as instl

def clearScr():
    os.system('clear')


alreadyInstalled = "Already Installed"
continuePrompt = "\nClick [Return] to continue"

installDir = os.path.dirname(os.path.abspath(__file__)) + '/../'



toolDir = installDir + 'tools/'
logDir = installDir + 'log/'

class microsploit:
    def __init__(self):
        self.installDir = toolDir + "microsploit"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["microsploit"])


    def run(self):
        os.system("%s/./Microsploit" % (self.installDir))

class poet:
    def __init__(self):
        self.installDir = toolDir + "poet"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["poet"])


    def run(self):
        os.system("python2 %s/server.py" % (self.installDir))

class weeman:
    def __init__(self):
        self.installDir = toolDir + "weeman"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["weeman"])


    def run(self):
        os.system("cd %s/ && python2 weeman.py" % (self.installDir))

class sb0x:
    def __init__(self):
        self.installDir = toolDir + "sb0x"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["sb0x"])


    def run(self):
        os.system("cd %s/ && python2 %s/sb0x.py" % (self.installDir, self.installDir))

class nxcrypt:
    def __init__(self):
        self.installDir = toolDir + "nxcrypt"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["nxcrypt"])


    def run(self):
        os.system("sudo python2 %s/NXcrypt.py --help" % (self.installDir))


class revsh:
    def __init__(self):
        self.installDir = toolDir + "revsh"
        if not self.installed():
            self.install()
        clearScr()
        self.run()

    def installed(self):
        return (os.path.isdir(self.installDir))

    def install(self):
        instl.Installer(0, installDir, ["revsh"])


    def run(self):
        os.system("chmod +x %s/revsh.c" % self.installDir)
        os.system("cd %s/ && %s/revsh" % (self.installDir, self.installDir))
